{"version":3,"sources":["problems lazy /^/.//.*/.js$/ groupOptions: {} namespace object","problems.js","OutsideClickDetector.js","SetCard.js","error.js","App.js","reportWebVitals.js","index.js","utils.js"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","problems","collections","importCache","getIdList","path","a","dependencyObject","split","component","idList","all","entries","dependency","push","indexOf","default","problemHistory","honeypotHistory","tmp","tryAddToHistory","q","qAsString","JSON","stringify","date","entry","today","dateToString","Date","trimHistory","sum","oldest","dateString","stringToDate","length","turnover","shift","m","getMonth","d","getDate","getFullYear","string","ys","parseInt","slice","ms","ds","newProblem","data","count","generate","console","warn","newProblemData","result","format","undefined","OutsideClickDetector","props","selfRef","useRef","onClickOutside","active","filteredProps","useEffect","handler","event","current","contains","target","document","addEventListener","removeEventListener","ref","children","defaultProps","className","DotsMenu","useState","open","setOpen","onClick","title","aria-label","width","height","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","items","item","index","SetItem","problem","answerVisible","setAnswerVisible","expVisible","setExpVisible","question","answer","explanation","getProblems","route","seed","problemList","restoreHistory","random","initialize","i","Math","floor","SetCard","newSet","goto","pathComponents","name","setProblemList","useLayoutEffect","list","Sheet","printPage","mode","ErrorBoundary","state","error","errorInfo","log","this","setState","onError","React","Component","SetError","href","window","location","toString","BASE_PATH","Choice","Folder","contents","Chooser","getRouteFromUrl","filter","x","str","fragments","decodeURIComponent","join","navigateToRoute","history","pushState","encodeData","App","setRoute","handleBack","now","cleanHistory","newRandomSeed","printMode","setPrintMode","print","back","fillRule","clipRule","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById","Katex","display","Array","isArray","spanRef","katex","displayMode","fleqn","K","FracN","n","algebra","simplifyFraction","pu","require","misc","min","max","_item","idx","names","male","female","nouns","currencies","variables","b","c","t","int","nonZeroInt","uniqueInts","nonZero","ints","bool","sign","float","places","fmt","round","choice","arr","uniqueVariables","concat","nameAndGender","allNames","noun","currency","money","indArticle","word","number","pow","toNPlaces","s","pointIndex","remainingZeros","primes","sqrtmax","num","expand","newPrimes","reset","next","get","value","isPrime","factors","gcf","bFactors","factor","bIdx","reduce","acc","val","formatTerm","coefficient","formatExpression","terms","term","formatEquation","lhs","rhs"],"mappings":"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","file":"static/js/main.2ebb4f84.chunk.js","sourcesContent":["var map = {\n\t\"./alg.js\": [\n\t\t389,\n\t\t3\n\t],\n\t\"./calc.js\": [\n\t\t390,\n\t\t4\n\t],\n\t\"./math.js\": [\n\t\t391,\n\t\t5\n\t],\n\t\"./physics.js\": [\n\t\t392,\n\t\t6\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 384;\nmodule.exports = webpackAsyncContext;","let problems = {};\n\nexport let collections = {\n  \"_Math\": {\n    \"_Arithmetic\": {\n      \"Exponents and compound interest\": {\"math\": [\"e1\"]}\n    },\n    \"_Algebra\": {\n      \"Simultaneous equations\": {\"alg\": [\"simult1\"]},\n      \"Simple linear equations\": {\"alg\": [\"l1\", \"l2\"]}\n    },\n    \"_Calculus\": {\n      \"Simple integration\": {\"calc\": [\"c1\"]}\n    }\n  },\n  \"_Physics\": {\n    \"Thermal physics\": {\"physics\": [\"thermal1\"]}\n  }\n}\nlet importCache = [];\n\nexport async function getIdList(path) {\n  let dependencyObject = collections;\n  for (let component of path.split(\"/\")) {\n    dependencyObject = dependencyObject[component];\n  }\n  let idList = [];\n  await Promise.all(Object.entries(dependencyObject).map(async ([dependency, ids]) => {\n    idList.push(...ids);\n    if (importCache.indexOf(dependency) === -1) {\n      problems = {...problems, ...(await import(`./problems/${dependency}.js`)).default}\n      importCache.push(dependency);\n    }\n  }));\n  return idList;\n}\n\nlet problemHistory = {};\nexport function honeypotHistory() {\n  let tmp = problemHistory;\n  problemHistory = {};\n  return () => {\n    problemHistory = tmp;\n  }\n}\n// Returns true if successful, false if already in problemHistory\nfunction tryAddToHistory(id, q) {\n  // TODO: This only looks at today's problemHistory, it should look at all problemHistory\n  // If this problem id doesn't exist in problemHistory, create it\n  if (!(id in problemHistory)) {\n    problemHistory[id] = {};\n  }\n  \n  // Check for a matching q object in this id's history\n  let qAsString = JSON.stringify(q);\n  for (let date in problemHistory[id]) {\n    for (let entry of problemHistory[id][date]) {\n      if (JSON.stringify(entry) === qAsString) {\n        // If there's a match, return false without adding the duplicate q\n        return false;\n      }\n    }\n  }\n  \n  // If there's no entry for today, create one\n  let today = dateToString(new Date());\n  if (!(today in problemHistory[id])) {\n    problemHistory[id][today] = [];\n  }\n  // If no duplicates were found, go ahead and add it\n  problemHistory[id][today].push(q);\n  return true;\n}\n// Removes the oldest item from the specified id's history if the turnover has been reached\nfunction trimHistory(id) {\n  let sum = 0;\n  let oldest = new Date();\n  let date;\n  for (let dateString in problemHistory[id]) {\n    date = stringToDate(dateString)\n    if (date < oldest) {\n      oldest = date;\n    }\n    sum += problemHistory[id][dateString].length;\n  }\n  if (sum > problems[id].turnover) {\n    // shift() removes the first entry, which is the oldest since they are added with push()\n    problemHistory[id][dateToString(oldest)].shift();\n  }\n}\n// Removes all entries from problemHistory that are older than 3 weeks\nexport function cleanHistory() {\n  let now = new Date();\n  for (let id in problemHistory) {\n    for (let dateString in problemHistory[id]) {\n      // If entry is more than 3 weeks old, delete it\n      if (now - stringToDate(dateString) > 3 * 7 * 24 * 60 * 60 * 1000) {\n        delete problemHistory[id][dateString]\n      }\n    }\n  }\n}\n\nfunction dateToString(date) {\n  let m = (date.getMonth() + 1 < 10 ? \"0\" : \"\") + (date.getMonth() + 1);\n  let d = (date.getDate() < 10 ? \"0\": \"\") + date.getDate();\n  return `${date.getFullYear()}${m}${d}`;\n}\n\nfunction stringToDate(string) {\n  let ys = parseInt(string.slice(0, 4));\n  let ms = parseInt(string.slice(4, 6)) - 1;\n  let ds = parseInt(string.slice(6, 8));\n  return new Date(ys, ms, ds)\n}\n\n// Returns a new problem object if possible\n// Returns null if unable to create a unique problem not already in problemHistory\nexport function newProblem(id) {\n  let data = newProblemData(id);\n  let result = problems[id].format(data);\n  // If an id property hasn't been defined, make a unique one\n  if (result.id === undefined) {\n    result.id = JSON.stringify(data.q) + id;\n  }\n  return result;\n}\n// Tries to create a unique problem object. If it fails, it will fall back on a recent problem\nfunction newProblemData(id) {\n  let data;\n  // Generate up to 200 problems, before deciding that all possibilities are exhausted and we should just return an old problem\n  for (let count = 0; count < 200; count++) {\n    data = problems[id].generate();\n    if (tryAddToHistory(id, data.q)) {\n      return data;\n    } else {\n      trimHistory(id);\n    }\n  }\n  console.warn(`Unable to create unique problem (id: ${id}, data: ${data})`);\n  return data;\n}","import React, { useRef, useEffect } from \"react\";\n\nfunction OutsideClickDetector(props) {\n    // Create a reference to this wrapper element\n    const selfRef = useRef(null);\n    // Destructure the callback from the props object so that we can tell useEffect to update whin it is changed\n    const { onClickOutside, active, ...filteredProps } = props;\n    useEffect(() => {\n        if (active) {\n            const handler = (event) => {\n                // If the ref has been set and the click happens outside of this component\n                if (selfRef.current !== null && !selfRef.current.contains(event.target)) {\n                    // Call the props.onClickOutside callback\n                    onClickOutside();\n                }\n            }\n            document.addEventListener(\"mousedown\", handler);\n            document.addEventListener(\"focusin\", handler); // Focus doesn't bubble, so it must be captured\n            return () => {\n                // Cleanup\n                document.removeEventListener(\"mousedown\", handler);\n                document.removeEventListener(\"focusin\", handler);\n            };\n        }\n    }, [selfRef, onClickOutside, active]); // Update the effect when we are given a new reference or callback\n    \n    return (\n        <div ref={selfRef} {...filteredProps}>\n            {props.children}\n        </div>\n    );\n}\nOutsideClickDetector.defaultProps = {\n    className: \"\",\n    onClickOutside: () => console.warn(\"No onClickOutside passed to OutsideClickDetector\"),\n    active: true\n}\n\nexport default OutsideClickDetector;","import React, {useLayoutEffect, useState} from \"react\";\nimport \"./SetCard.css\";\nimport {getIdList, newProblem, honeypotHistory} from \"./problems\";\nimport {random} from \"./utils\";\nimport OutsideClickDetector from \"./OutsideClickDetector\";\n\nfunction DotsMenu(props) {\n  const [open, setOpen] = useState(false);\n  \n  return <OutsideClickDetector className=\"DotsMenu\" onClickOutside={() => setOpen(false)} active={open}>\n    <button className=\"DotsMenu__button\" onClick={() => setOpen(!open)} title=\"Actions menu\" aria-label=\"Actions menu\">\n      <svg width=\"24px\" height=\"24px\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z\" />\n      </svg>\n    </button>\n    <ul className={\"DotsMenu__popup\" + (open ? \" open\" : \"\")}>\n      {props.items.map((item, index) => (\n        <li key={index}><button onClick={() => {item[1](); setOpen(false);}}>{item[0]}</button></li>\n      ))}\n    </ul>\n  </OutsideClickDetector>\n}\n\nfunction SetItem({problem}) {\n  const [answerVisible, setAnswerVisible] = useState(false);\n  const [expVisible, setExpVisible] = useState(false);\n  return (\n    <li>\n      <div className=\"SetItem__question\">{problem.question}</div>\n      <button className=\"link-button\" onClick={() => setAnswerVisible(!answerVisible)}>\n        {answerVisible ? \"Hide answer\" : \"Show answer\"}\n      </button>\n      <div className={\"SetItem__answer-section\" + (answerVisible ? \" open\" : \"\")}>\n        <div className=\"SetItem__answer\">{problem.answer}</div>\n        {problem.explanation && <>\n          <button className=\"link-button\" onClick={() => setExpVisible(!expVisible)}>\n            {expVisible ? \"Hide explanation\" : \"Show explanation\"}\n          </button>\n          <div className={\"SetItem__explanation\" + (expVisible ? \" open\" : \"\")}>\n            {problem.explanation}\n          </div>\n        </>}\n      </div>\n    </li>\n  );\n}\n\nasync function getProblems(route) {\n  const [path, seed] = route;\n  let idList = await getIdList(path);\n  let problemList = [];\n  let restoreHistory = honeypotHistory();\n  random.initialize(seed);\n  for (let i = 0; i < 5; i++) {\n    // Random problem id from the collection topics list\n    let id = idList[Math.floor(random.random() * idList.length)];\n    problemList.push(newProblem(id));\n  }\n  restoreHistory();\n  return problemList;\n}\n\nfunction SetCard({route, newSet, goto}) {\n  const [path, seed] = route;\n  let pathComponents = path.split(\"/\");\n  let name = pathComponents[pathComponents.length - 1];\n  let [problemList, setProblemList] = useState(null);\n  useLayoutEffect(() => {\n    getProblems(route).then(list => setProblemList(list));\n  }, [route]);\n  return (\n    <div className=\"SetCard\">\n      <div className=\"SetCard__header\">\n        <h2>{name}</h2>\n        <div className=\"SetCard__buttons\">\n          <button onClick={() => newSet(path)} title=\"Reload all problems\" aria-label=\"Reload all problems\">\n            <svg width=\"24px\" height=\"24px\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n            </svg>\n          </button>\n          <DotsMenu items={[\n            [\"Export worksheet\", () => goto([path, seed, 1])],\n            [\"Export answer sheet\", () => goto([path, seed, 2])],\n            [\"Export answers and explanations\", () => goto([path, seed, 3])],\n            [\"Reload all problems\", () => newSet(path)]\n          ]}/>\n        </div>\n      </div>\n      <hr />\n      {problemList === null ? \n      <p>Loading problems...</p> :\n      <ol className=\"SetCard__list\">\n        {problemList.map(problem => {\n          return <SetItem key={problem.id} problem={problem}/>\n        })}\n      </ol>}\n    </div>\n  );\n}\n\nfunction Sheet({route, printPage}) {\n  // eslint-disable-next-line no-unused-vars\n  const [path, _seed, mode] = route;\n  let pathComponents = path.split(\"/\");\n  let name = pathComponents[pathComponents.length - 1];\n  let [problemList, setProblemList] = useState(null);\n  useLayoutEffect(() => {\n    getProblems(route).then(list => setProblemList(list));\n  }, [route]);\n  return (\n    <div className=\"SetCard\">\n      <div className=\"SetCard__header\">\n        <h2>{name}</h2>\n        <button className=\"link-button no-print\" onClick={() => printPage()}>Print</button>\n      </div>\n      <hr />\n      {problemList === null ?\n        <p>Loading problems...</p> :\n        <ol className=\"SetCard__list\">\n          {problemList.map(problem => {\n            let data;\n            switch (mode) {\n              case 1:\n                data = problem.question;\n                break;\n              case 2:\n                data = problem.answer;\n                break;\n              case 3:\n                if (problem.explanation) {\n                  data = <>\n                    {problem.answer}\n                    <br/>\n                    {problem.explanation}\n                  </>\n                } else {\n                  data = problem.answer;\n                }\n                break;\n              default:\n                throw new Error(`Unrecognized mode: ${mode}`);\n            }\n            return <li key={problem.id}>\n              <div>{data}</div>\n            </li>\n          })}\n        </ol>\n      }\n    </div>\n  );\n}\n\nexport {SetCard, Sheet};","import React from \"react\";\nimport \"./error.css\";\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {error: null, errorInfo: null};\n  }\n  //static getDerivedStateFromError(_error) {\n  //  return {hasError: true};\n  //}\n  componentDidCatch(error, errorInfo) {\n    console.log(error, errorInfo);\n    this.setState({error: error, errorInfo: errorInfo});\n  }\n  render() {\n    if (this.state.error !== null) {\n      return this.props.onError(this.state.error, this.state.errorInfo);\n    }\n    return this.props.children;\n  }\n}\n\nfunction SetError({children}) {\n  return <ErrorBoundary onError={(error, errorInfo) =>\n    <div className=\"SetError\">\n      <h2>Something went wrong.</h2>\n      <p>There was an error creating or displaying the problems you requested. This is almost certainly my fault, and if you email me at <a href=\"mailto://muzioclavecin@gmail.com\">muzioclavecin@gmail.com</a> I'll try to fix it as soon as possible. Please include the following text:</p>\n      <p>URL: {window.location.href}, Error: {error.toString()} – {JSON.stringify(errorInfo)}</p>\n    </div>\n  }>{children}</ErrorBoundary>\n}\n\nexport {SetError};","import React, {useEffect, useState} from \"react\";\nimport './App.css';\nimport {SetCard, Sheet} from \"./SetCard\";\nimport {cleanHistory, collections} from \"./problems\";\nimport {SetError} from \"./error\";\nimport {random} from \"./utils\";\n\nconst BASE_PATH = \"/problems\";\n\nfunction Choice({name, onClick}) {\n  return (\n    <button className=\"Choice navigator-button\" onClick={onClick}>\n      <span>{name}</span>\n      <svg width=\"24px\" height=\"24px\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n      </svg>\n    </button>\n  );\n}\n\nfunction Folder({name, contents, newSet, path}) {\n  const [open, setOpen] = useState(false);\n  return <>\n    <button className=\"Folder__button navigator-button\" onClick={() => setOpen(!open)}>\n      <svg className={open ? \"open\" : \"\"} width=\"24px\" height=\"24px\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n      </svg>\n      <span>{name}</span>\n    </button>\n    <div className={\"Folder__items\" + (open ? \" open\" : \"\")}>\n      <Chooser items={contents} newSet={newSet} path={path}/>\n    </div>\n  </>;\n}\n\nfunction Chooser({items, newSet, path}) {\n  if (path === undefined) {\n    path = \"\";\n  } else {\n    path += \"/\";\n  }\n  return (\n    <div className=\"Chooser\">\n      {Object.entries(items).map(([name, contents], index) => (\n        name[0] === \"_\" ?\n        <Folder name={name.slice(1)} contents={contents} key={index} newSet={newSet} path={path + name}/> :\n        <Choice name={name} contents={contents} key={index} onClick={() => newSet(path + name)} />\n      ))}\n    </div>\n  );\n}\n\nfunction encodeData(seed, mode) {\n  // Converts to a base-36 string\n  return mode.toString() + seed.toString(36);\n}\nfunction decodeData(str) {\n  return [parseInt(str.slice(1), 36), parseInt(str[0])];\n}\n// URL Format:\n// home: `https://aderhall.github.io/${BASE_PATH}\n// specific questions: `https://aderhall.github.io/${BASE_PATH}#!${name}/${data}`\nfunction getRouteFromUrl() {\n  let path = window.location.href.split(\"#!\").filter(x => x !== \"\");\n  if (path.length === 1) {\n    return [null];\n  }\n  let fragments = path[1].split(\"/\");\n  try {\n    let name = fragments.slice(0, fragments.length-1).map(decodeURIComponent).join(\"/\");\n    let [seed, mode] = decodeData(fragments[fragments.length - 1]);\n    return [name, seed, mode];\n  } catch {\n    console.error(\"Couldn't resolve url data fragment, redirecting to home.\");\n    navigateToRoute([null]);\n    return [null];\n  }\n}\nfunction navigateToRoute(route) {\n  const [path, seed, mode] = route;\n  if (path !== null) {\n    window.history.pushState(route, \"\", `${BASE_PATH}#!${path}/${encodeData(seed, mode)}`);\n    document.title = `${path}${mode === 0 ? \"\" : ` (${mode === 1 ? \"worksheet\" : \"answers\"})`} | Adrian's endless source of problems`;\n  } else {\n    window.history.pushState(null, \"\", `${BASE_PATH}`);\n    document.title = \"Adrian's endless source of problems\";\n  }\n}\n\nfunction App() {\n  const [route, setRoute] = useState(getRouteFromUrl());\n  useEffect(() => {\n    const handleBack = () => {\n      setRoute(getRouteFromUrl());\n    }\n    window.addEventListener(\"popstate\", handleBack);\n    return () => {\n      window.removeEventListener(\"popstate\", handleBack);\n    }\n  });\n  cleanHistory();\n  const goto = route => {\n    navigateToRoute(route);\n    setRoute(route);\n  }\n  const newSet = path => {\n    let seed = random.newRandomSeed();\n    goto([path, seed, 0]);\n  }\n  \n  const [printMode, setPrintMode] = useState(false);\n  const printPage = () => {\n    setPrintMode(true);\n  }\n  useEffect(() => {\n    if (printMode) {\n      window.print();\n      setPrintMode(false);\n    }\n  }, [printMode]);\n  return (\n    <div className={\"App\" + (printMode ? \" print\" : \"\")}>\n      <header className=\"App__header no-print\">\n        <h1>Adrian's endless source of problems</h1>\n      </header>\n      <main>\n        {route[0] === null ? \n          <Chooser newSet={newSet} items={collections}/> : \n          <>\n            <nav className=\"no-print\">\n              <button className=\"link-button\" onClick={() => window.history.back()}>\n                <svg width=\"15px\" height=\"15px\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path fillRule=\"evenodd\" d=\"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z\" clipRule=\"evenodd\" />\n                </svg>\n                Back\n              </button>\n              <button className=\"link-button\" onClick={() => goto([null])}>\n                <svg width=\"15px\" height=\"15px\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path d=\"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z\" />\n                </svg>\n                Home\n              </button>\n            </nav>\n            <SetError>\n              {route[2] === 0 ? \n                <SetCard route={route} newSet={newSet} goto={goto} /> :\n                <Sheet route={route} printPage={printPage} />\n              }\n            </SetError>\n          </>\n        }\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n\n\n/* TODO:\n  * √ Generate problems in app, not setcard\n  * √ Menu option to reload each problem\n  * √ Client-side routing\n  * √ Menu options to generate question and answer sheets\n  * √ Deploy to gh-pages\n  * √ Seeded PRNG with seed in url fragment\n  * X PDF download\n  * √ Katex\n  * √ Remove coefficient of 1 in formatTerm\n  * √ Reload button easier to access\n  * √ Error boundaries\n  * √ Lazy loading problems\n  * √ Folders and subfolders\n  * Customize number of problems in a worksheet, store this in URL\n  * Some way to limit problems that have already come up?\n  * SVG Diagrams\n  * Help page documentation\n*/","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import \"react-app-polyfill/ie11\";\nimport \"react-app-polyfill/stable\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import React, {useRef, useLayoutEffect} from \"react\";\nimport katex from \"katex\";\nrequire(\"katex/dist/contrib/mhchem.js\");\n\nfunction Katex({children, display}) {\n  if (display === undefined) {\n    display = false;\n  }\n  if (Array.isArray(children)) {\n    children = children.join(\"\");\n  }\n  if (typeof(children) !== \"string\") {\n    children = children.toString();\n  }\n  const spanRef = useRef();\n  useLayoutEffect(() => {\n    if (spanRef !== null) {\n      katex.render(children, spanRef.current, {displayMode: display, fleqn: true});\n    }\n  }, [spanRef, children, display])\n  return <span ref={spanRef}/>\n}\nfunction K({m}) {\n  return <Katex>{m}</Katex>;\n}\nfunction FracN({n, d}) {\n  [n, d] = algebra.simplifyFraction(n, d);\n  if (d === 1) {\n    return <K m={n} />;\n  } else {\n    return <Katex>\\frac{`{${n}}{${d}}`}</Katex>\n  }\n}\nfunction pu(m) {\n  return `\\\\pu{${m}}`;\n}\nfunction Pu({m}) {\n  return <K m={pu(m)}/>;\n}\n\nlet misc = {\n  range(min, max) {\n    return Array(max - min).fill().map((_item, idx) => idx + min);\n  }\n}\nlet random = {\n  names: {\n    male: [\"Bill\", \"Bob\", \"Jebediah\", \"Mohamed\", \"Karim\", \"Habib\", \"Santiago\", \"Gabriel\", \"Jayden\", \"Liam\", \"Noah\", \"James\", \"Ali\", \"Omar\", \"Yusif\", \"Wei\", \"Jie\", \"Hao\", \"Arjun\", \"Reyansh\", \"Ayaan\", \"Ori\", \"Ahmad\", \"Haruki\", \"Riku\", \"Lucas\", \"Nathan\", \"Stefan\", \"Leonardo\", \"Francesco\", \"Alessandro\", \"Leo\", \"Jack\", \"Sergei\", \"Taika\"],\n    female: [\"Valentina\", \"Roxanne\", \"Lola\", \"Fatima\", \"Mariam\", \"Rowan\", \"Mariana\", \"Lucia\", \"Camila\", \"Olivia\", \"Charlotte\", \"Emma\", \"Leyla\", \"Zeynab\", \"Salma\", \"Jing\", \"Ying\", \"Yan\", \"Aadya\", \"Diya\", \"Saanvi\", \"Sarah\", \"Jana\", \"Honoka\", \"Akari\", \"Anna\", \"Sophia\", \"Yasmine\", \"Ginevra\", \"Beatrice\", \"Aurora\", \"Stella\", \"Lucy\", \"Anastasia\", \"Mia\"]\n  },\n  nouns: [\"shoe\", \"car\", \"carpet\", \"rocket\", \"microscope\", \"tambourine\", \"guitar\", \"envelope\", \"jetpack\", \"parachute\", \"donut\", \"vegetable\"],\n  currencies: [\"$\", \"€\", \"￡\"],\n  variables: [\"a\", \"b\", \"c\", \"d\", \"m\", \"n\", \"p\", \"q\", \"r\", \"t\", \"w\", \"x\", \"y\", \"z\"],\n  newRandomSeed() {\n    // Random Uint32\n    return (Math.random() * (-1>>>0))>>>0;\n  },\n  initialize(seed) {\n    // Initialize the first 96 bits of the seed\n    // First 11 digits of PI, E, and PHI\n    let a = 31415926535;\n    let b = 71828182845\n    let c = 16180339887;\n    if (seed === undefined) {\n      seed = this.newRandomSeed();\n    }\n    // sfc32 (short fast counter) PRNG algorithm\n    // Produces uniformly-distributed floats between 0 and 1, with 32 bits of precision\n    this.random = function() {\n      a >>>= 0; b >>>= 0; c >>>= 0; seed >>>= 0; \n      let t = (a + b) | 0;\n      a = b ^ (b >>> 9);\n      b = c + (c << 3) | 0;\n      c = ((c << 21) | (c >>> 11));\n      seed = seed + 1 | 0;\n      t = t + seed | 0;\n      c = c + t | 0;\n      // Divide by max Uint32 to get a float between 0 and 1\n      return (t >>> 0) / 4294967296;\n    }\n    // Since the first 96 bits of the seed were fixed initially, run the generator a few times to mix everything up\n    for (let i = 0; i < 15; i++) this.random();\n  },\n  random() {\n    // This function will be reassigned when this.initialize() is called\n    throw new Error(\"PRNG has not been initialized.\");\n  },\n  int(min, max) {\n    return Math.floor((1 + max - min) * this.random()) + min;\n  },\n  nonZeroInt(min, max) {\n    if (min > 0 || max < 0) {\n      return this.int(min, max);\n    }\n    let result = this.int(min, max - 1);\n    if (result >= 0) {\n      return result + 1;\n    }\n    return result;\n  },\n  uniqueInts(min, max, count, nonZero) {\n    if (count > max - min) {\n      if ((count > 1 + max - min) || (nonZero && max >= 0 && min <= 0)) {\n        throw new Error(\"Range is too small to generate enough ints\");\n      }\n    }\n    let ints = [];\n    let int;\n    for (let i = 0; i < count; i++) {\n      do {\n        int = nonZero ? this.nonZeroInt(min, max) : this.int(min, max);\n      } while (ints.indexOf(int) !== -1);\n      ints.push(int);\n    }\n    return ints;\n  },\n  bool() {\n    return this.random() >= 0.5;\n  },\n  sign() {\n    return this.bool() ? 1 : -1;\n  },\n  float(min, max, places) {\n    let result = this.random() * (max - min) + min;\n    if (places === undefined) {\n      return result;\n    }\n    return fmt.round(result, places);\n  },\n  choice(arr) {\n    return arr[Math.floor(arr.length * this.random())];\n  },\n  uniqueVariables(count) {\n    let indices = this.uniqueInts(0, this.variables.length-1, count, false);\n    return indices.map(index => this.variables[index]);\n  },\n  name() {\n    return this.choice(this.names.male.concat(this.names.female));\n  },\n  nameAndGender() {\n    let allNames = this.names.male.concat(this.names.female);\n    let index = Math.floor(allNames.length * this.random());\n    return [\n      allNames[index],\n      index >= this.names.male.length // true if female, false if male\n    ]\n  },\n  noun() {\n    return this.choice(this.nouns);\n  },\n  currency() {\n    return this.choice(this.currencies);\n  },\n  money(min, max) {\n    return this.float(min, max, 2);\n  }\n}\nlet fmt = {\n  indArticle(word) {\n    if (word[0] in [\"a\", \"e\", \"i\", \"o\", \"u\"]) {\n      return \"an\";\n    } else {\n      return \"a\";\n    }\n  },\n  round(number, places) {\n    return Math.round(number * Math.pow(10, places)) / Math.pow(10, places);\n  },\n  toNPlaces(number, places) {\n    let s = this.round(number, places).toString();\n    if (places > 0) {\n      let pointIndex = s.indexOf(\".\")\n      if (pointIndex === -1) {\n        s += \".\";\n        pointIndex = s.length - 1;\n      }\n      let remainingZeros = places - (s.length - 1 - pointIndex)\n      for (let i = 0; i < remainingZeros; i++) {\n        s += \"0\";\n      }\n    }\n    return s;\n  }\n}\nlet algebra = {\n  primes: (() => {\n    let sqrtmax = 10;\n    let index = 0;\n    let primes = misc.range(2, sqrtmax**2);\n    for (let i = 2; i < sqrtmax; i++) {\n      primes = primes.filter(num => num === i || num % i !== 0);\n    }\n    let expand = () => {\n      sqrtmax++;\n      let newPrimes = misc.range((sqrtmax-1)**2+1, sqrtmax**2);\n      for (let i = 2; i < sqrtmax; i++) {\n        newPrimes = newPrimes.filter(num => num % i !== 0);\n      }\n      primes.push(...newPrimes);\n    }\n    return {\n      reset() {\n        index = 0;\n      },\n      next() {\n        let current = this.get(index);\n        index++;\n        return current;\n      },\n      get(idx) {\n        let value = primes[idx];\n        while (value === undefined) {\n          expand();\n          value = primes[idx];\n        }\n        return value;\n      },\n      indexOf(num) {\n        while (true) {\n          if (num > primes[primes.length - 1]) {\n            expand();\n          } else {\n            return primes.indexOf(num);\n          }\n        }\n      },\n      isPrime(num) {\n        return this.indexOf(num) !== -1;\n      },\n      factors(num) {\n        let factors = []\n        if (num < 2) {\n          return factors;\n        }\n        let idx = 0;\n        while (!this.isPrime(num)) {\n          let current = this.get(idx)\n          while (num % current === 0 && num !== current) {\n            num /= current;\n            factors.push(current);\n          }\n          idx++;\n        }\n        factors.push(num);\n        return factors;\n      }\n    }\n  })(),\n  gcf(a, b) {\n    let bFactors = this.primes.factors(b);\n    return this.primes.factors(a).filter(factor => {\n      let bIdx = bFactors.indexOf(factor);\n      if (bIdx === -1) {\n        return false;\n      } else {\n        delete bFactors[bIdx];\n        return true;\n      }\n    }).reduce((acc, val) => acc * val, 1);\n  },\n  simplifyFraction(n, d) {\n    let gcf = this.gcf(n, d);\n    return [n / gcf, d / gcf];\n  },\n  formatTerm(factors) {\n    // [-5, 3, \"x^{11}\", -1, \"y\", -2] -> \"-30x^{11}y\"\n    let coefficient = 1;\n    let acc = \"\";\n    for (let factor of factors) {\n      if (typeof(factor) === \"number\") {\n        coefficient *= factor;\n      } else {\n        acc += factor;\n      }\n    }\n    if (acc) {\n      if (coefficient === 1) {\n        coefficient = \"\";\n      } else if (coefficient === -1) {\n        coefficient = \"-\";\n      }\n    }\n    return coefficient + acc;\n  },\n  formatExpression(...terms) {\n    return terms.map(term => {\n      if (Array.isArray(term)) {\n        return this.formatTerm(term);\n      } else if (typeof(term) === \"number\") {\n        return term.toString();\n      }\n      return term;\n    }).reduce((acc, term, index) => acc + (term[0] === \"-\" || index === 0 ? \"\" : \"+\") + term, \"\");\n  },\n  formatEquation(lhs, rhs) {\n    return this.formatExpression(...lhs) + \"=\" + this.formatExpression(...rhs);\n  }\n}\n\nexport {random, fmt, Katex, K, FracN, Pu, pu, misc, algebra};"],"sourceRoot":""}