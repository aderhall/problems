{"version":3,"sources":["problems lazy /^/.//.*/.js$/ groupOptions: {} namespace object","problems.js","OutsideClickDetector.js","SetCard.js","error.js","App.js","reportWebVitals.js","index.js","utils.js"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","problems","collections","d","p","importCache","getIdList","name","a","dependency","indexOf","default","push","problemHistory","honeypotHistory","tmp","tryAddToHistory","q","qAsString","JSON","stringify","date","entry","today","dateToString","Date","trimHistory","sum","oldest","dateString","stringToDate","length","turnover","shift","m","getMonth","getDate","getFullYear","string","ys","parseInt","slice","ms","ds","newProblem","data","count","generate","console","warn","newProblemData","result","format","undefined","OutsideClickDetector","props","selfRef","useRef","onClickOutside","active","filteredProps","useEffect","handler","event","current","contains","target","document","addEventListener","removeEventListener","ref","children","defaultProps","className","DotsMenu","useState","open","setOpen","onClick","aria-label","width","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","items","item","index","SetItem","problem","answerVisible","setAnswerVisible","expVisible","setExpVisible","question","answer","explanation","getProblems","route","seed","idList","problemList","restoreHistory","random","initialize","i","Math","floor","SetCard","newSet","goto","setProblemList","useLayoutEffect","list","Sheet","printPage","mode","ErrorBoundary","state","error","errorInfo","log","this","setState","onError","React","Component","SetError","href","window","location","toString","BASE_PATH","Choice","Chooser","entries","getRouteFromUrl","path","split","filter","x","str","fragments","decodeURIComponent","navigateToRoute","history","pushState","encodeData","title","App","setRoute","handleBack","now","cleanHistory","newRandomSeed","printMode","setPrintMode","print","back","fillRule","clipRule","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById","Katex","display","Array","isArray","join","spanRef","katex","displayMode","fleqn","K","FracN","n","algebra","simplifyFraction","pu","require","misc","min","max","_item","idx","names","male","female","nouns","currencies","variables","b","c","t","int","nonZeroInt","uniqueInts","nonZero","ints","bool","sign","float","places","fmt","round","choice","arr","uniqueVariables","concat","nameAndGender","allNames","noun","currency","money","indArticle","word","number","pow","toNPlaces","s","pointIndex","remainingZeros","primes","sqrtmax","num","expand","newPrimes","reset","next","get","value","isPrime","factors","gcf","bFactors","factor","bIdx","reduce","acc","val","formatTerm","coefficient","formatExpression","terms","term","formatEquation","lhs","rhs"],"mappings":"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","file":"static/js/main.7f1be3e3.chunk.js","sourcesContent":["var map = {\n\t\"./alg.js\": [\n\t\t32,\n\t\t3\n\t],\n\t\"./calc.js\": [\n\t\t33,\n\t\t4\n\t],\n\t\"./math.js\": [\n\t\t34,\n\t\t5\n\t],\n\t\"./physics.js\": [\n\t\t35,\n\t\t6\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 27;\nmodule.exports = webpackAsyncContext;","let problems = {};\nexport let collections = {\n  \"Algebra\": {d: [\"alg\"], p: [\"l1\", \"l2\"]},\n  \"Exponents and compound interest\": {d: [\"math\"], p: [\"e1\"]},\n  \"Calculus\": {d: [\"calc\"], p: [\"c1\"]},\n  \"Physics\": {d: [\"physics\"], p: [\"thermal1\"]},\n  \"Simultaneous equations\": {d: [\"alg\"], p: [\"simult1\"]}\n}\nlet importCache = [];\n\nexport async function getIdList(name) {\n  for (let dependency of collections[name].d) {\n    if (importCache.indexOf(dependency) === -1) {\n      problems = {...problems, ...(await import(`./problems/${dependency}.js`)).default};\n      importCache.push(dependency);\n    }\n  }\n  return collections[name].p;\n}\n\nlet problemHistory = {};\nexport function honeypotHistory() {\n  let tmp = problemHistory;\n  problemHistory = {};\n  return () => {\n    problemHistory = tmp;\n  }\n}\n// Returns true if successful, false if already in problemHistory\nfunction tryAddToHistory(id, q) {\n  // TODO: This only looks at today's problemHistory, it should look at all problemHistory\n  // If this problem id doesn't exist in problemHistory, create it\n  if (!(id in problemHistory)) {\n    problemHistory[id] = {};\n  }\n  \n  // Check for a matching q object in this id's history\n  let qAsString = JSON.stringify(q);\n  for (let date in problemHistory[id]) {\n    for (let entry of problemHistory[id][date]) {\n      if (JSON.stringify(entry) === qAsString) {\n        // If there's a match, return false without adding the duplicate q\n        return false;\n      }\n    }\n  }\n  \n  // If there's no entry for today, create one\n  let today = dateToString(new Date());\n  if (!(today in problemHistory[id])) {\n    problemHistory[id][today] = [];\n  }\n  // If no duplicates were found, go ahead and add it\n  problemHistory[id][today].push(q);\n  return true;\n}\n// Removes the oldest item from the specified id's history if the turnover has been reached\nfunction trimHistory(id) {\n  let sum = 0;\n  let oldest = new Date();\n  let date;\n  for (let dateString in problemHistory[id]) {\n    date = stringToDate(dateString)\n    if (date < oldest) {\n      oldest = date;\n    }\n    sum += problemHistory[id][dateString].length;\n  }\n  if (sum > problems[id].turnover) {\n    // shift() removes the first entry, which is the oldest since they are added with push()\n    problemHistory[id][dateToString(oldest)].shift();\n  }\n}\n// Removes all entries from problemHistory that are older than 3 weeks\nexport function cleanHistory() {\n  let now = new Date();\n  for (let id in problemHistory) {\n    for (let dateString in problemHistory[id]) {\n      // If entry is more than 3 weeks old, delete it\n      if (now - stringToDate(dateString) > 3 * 7 * 24 * 60 * 60 * 1000) {\n        delete problemHistory[id][dateString]\n      }\n    }\n  }\n}\n\nfunction dateToString(date) {\n  let m = (date.getMonth() + 1 < 10 ? \"0\" : \"\") + (date.getMonth() + 1);\n  let d = (date.getDate() < 10 ? \"0\": \"\") + date.getDate();\n  return `${date.getFullYear()}${m}${d}`;\n}\n\nfunction stringToDate(string) {\n  let ys = parseInt(string.slice(0, 4));\n  let ms = parseInt(string.slice(4, 6)) - 1;\n  let ds = parseInt(string.slice(6, 8));\n  return new Date(ys, ms, ds)\n}\n\n// Returns a new problem object if possible\n// Returns null if unable to create a unique problem not already in problemHistory\nexport function newProblem(id) {\n  let data = newProblemData(id);\n  let result = problems[id].format(data);\n  // If an id property hasn't been defined, make a unique one\n  if (result.id === undefined) {\n    result.id = JSON.stringify(data.q) + id;\n  }\n  return result;\n}\n// Tries to create a unique problem object. If it fails, it will fall back on a recent problem\nfunction newProblemData(id) {\n  let data;\n  // Generate up to 200 problems, before deciding that all possibilities are exhausted and we should just return an old problem\n  for (let count = 0; count < 200; count++) {\n    data = problems[id].generate();\n    if (tryAddToHistory(id, data.q)) {\n      return data;\n    } else {\n      trimHistory(id);\n    }\n  }\n  console.warn(`Unable to create unique problem (id: ${id}, data: ${data})`);\n  return data;\n}","import React, { useRef, useEffect } from \"react\";\n\nfunction OutsideClickDetector(props) {\n    // Create a reference to this wrapper element\n    const selfRef = useRef(null);\n    // Destructure the callback from the props object so that we can tell useEffect to update whin it is changed\n    const { onClickOutside, active, ...filteredProps } = props;\n    useEffect(() => {\n        if (active) {\n            const handler = (event) => {\n                // If the ref has been set and the click happens outside of this component\n                if (selfRef.current !== null && !selfRef.current.contains(event.target)) {\n                    // Call the props.onClickOutside callback\n                    onClickOutside();\n                }\n            }\n            document.addEventListener(\"mousedown\", handler);\n            document.addEventListener(\"focusin\", handler); // Focus doesn't bubble, so it must be captured\n            return () => {\n                // Cleanup\n                document.removeEventListener(\"mousedown\", handler);\n                document.removeEventListener(\"focusin\", handler);\n            };\n        }\n    }, [selfRef, onClickOutside, active]); // Update the effect when we are given a new reference or callback\n    \n    return (\n        <div ref={selfRef} {...filteredProps}>\n            {props.children}\n        </div>\n    );\n}\nOutsideClickDetector.defaultProps = {\n    className: \"\",\n    onClickOutside: () => console.warn(\"No onClickOutside passed to OutsideClickDetector\"),\n    active: true\n}\n\nexport default OutsideClickDetector;","import React, {useLayoutEffect, useState} from \"react\";\nimport \"./SetCard.css\";\nimport {getIdList, newProblem, honeypotHistory} from \"./problems\";\nimport {random} from \"./utils\";\nimport OutsideClickDetector from \"./OutsideClickDetector\";\n\nfunction DotsMenu(props) {\n  const [open, setOpen] = useState(false);\n  \n  return <OutsideClickDetector className=\"DotsMenu\" onClickOutside={() => setOpen(false)} active={open}>\n    <button className=\"DotsMenu__button\" onClick={() => setOpen(!open)} aria-label=\"Actions Menu\">\n      <svg width=\"24\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z\" />\n      </svg>\n    </button>\n    <ul className={\"DotsMenu__popup\" + (open ? \" open\" : \"\")}>\n      {props.items.map((item, index) => (\n        <li key={index}><button onClick={() => {item[1](); setOpen(false);}}>{item[0]}</button></li>\n      ))}\n    </ul>\n  </OutsideClickDetector>\n}\n\nfunction SetItem({problem}) {\n  const [answerVisible, setAnswerVisible] = useState(false);\n  const [expVisible, setExpVisible] = useState(false);\n  return (\n    <li>\n      <div className=\"SetItem__question\">{problem.question}</div>\n      <button className=\"link-button\" onClick={() => setAnswerVisible(!answerVisible)}>\n        {answerVisible ? \"Hide answer\" : \"Show answer\"}\n      </button>\n      <div className={\"SetItem__answer-section\" + (answerVisible ? \" open\" : \"\")}>\n        <div className=\"SetItem__answer\">{problem.answer}</div>\n        {problem.explanation && <>\n          <button className=\"link-button\" onClick={() => setExpVisible(!expVisible)}>\n            {expVisible ? \"Hide explanation\" : \"Show explanation\"}\n          </button>\n          <div className={\"SetItem__explanation\" + (expVisible ? \" open\" : \"\")}>\n            {problem.explanation}\n          </div>\n        </>}\n      </div>\n    </li>\n  );\n}\n\nasync function getProblems(route) {\n  const [name, seed] = route;\n  let idList = await getIdList(name);\n  let problemList = [];\n  let restoreHistory = honeypotHistory();\n  random.initialize(seed);\n  for (let i = 0; i < 5; i++) {\n    // Random problem id from the collection topics list\n    let id = idList[Math.floor(random.random() * idList.length)];\n    problemList.push(newProblem(id));\n  }\n  restoreHistory();\n  return problemList;\n}\n\nfunction SetCard({route, newSet, goto}) {\n  const [name, seed] = route;\n  let [problemList, setProblemList] = useState(null);\n  useLayoutEffect(() => {\n    getProblems(route).then(list => setProblemList(list));\n  }, [route]);\n  return (\n    <div className=\"SetCard\">\n      <div className=\"SetCard__header\">\n        <h2>{name}</h2>\n        <div className=\"SetCard__buttons\">\n          <button onClick={() => newSet(name)}>\n            <svg width=\"24px\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15\" />\n            </svg>\n          </button>\n          <DotsMenu items={[\n            [\"Export worksheet\", () => goto([name, seed, 1])],\n            [\"Export answer sheet\", () => goto([name, seed, 2])],\n            [\"Export answers and explanations\", () => goto([name, seed, 3])],\n            [\"Reload all problems\", () => newSet(name)]\n          ]}/>\n        </div>\n      </div>\n      <hr />\n      {problemList === null ? \n      <p>Loading problems...</p> :\n      <ol className=\"SetCard__list\">\n        {problemList.map(problem => {\n          return <SetItem key={problem.id} problem={problem}/>\n        })}\n      </ol>}\n    </div>\n  );\n}\n\nfunction Sheet({route, printPage}) {\n  // eslint-disable-next-line no-unused-vars\n  const [name, _seed, mode] = route;\n  let problemList = getProblems(route);\n  return (\n    <div className=\"SetCard\">\n      <div className=\"SetCard__header\">\n        <h2>{name}</h2>\n        <button className=\"link-button no-print\" onClick={() => printPage()}>Print</button>\n      </div>\n      <hr />\n      <ol className=\"SetCard__list\">\n        {problemList.map(problem => {\n          let data;\n          switch (mode) {\n            case 1:\n              data = problem.question;\n              break;\n            case 2:\n              data = problem.answer;\n              break;\n            case 3:\n              if (problem.explanation) {\n                data = <>\n                  {problem.answer}\n                  <br/>\n                  {problem.explanation}\n                </>\n              } else {\n                data = problem.answer;\n              }\n              break;\n            default:\n              throw new Error(`Unrecognized mode: ${mode}`);\n          }\n          return <li key={problem.id}>\n            <div>{data}</div>\n          </li>\n        })}\n      </ol>\n    </div>\n  );\n}\n\nexport {SetCard, Sheet};","import React from \"react\";\nimport \"./error.css\";\n\nclass ErrorBoundary extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {error: null, errorInfo: null};\n  }\n  //static getDerivedStateFromError(_error) {\n  //  return {hasError: true};\n  //}\n  componentDidCatch(error, errorInfo) {\n    console.log(error, errorInfo);\n    this.setState({error: error, errorInfo: errorInfo});\n  }\n  render() {\n    if (this.state.error !== null) {\n      return this.props.onError(this.state.error, this.state.errorInfo);\n    }\n    return this.props.children;\n  }\n}\n\nfunction SetError({children}) {\n  return <ErrorBoundary onError={(error, errorInfo) =>\n    <div className=\"SetError\">\n      <h2>Something went wrong.</h2>\n      <p>There was an error creating or displaying the problems you requested. This is almost certainly my fault, and if you email me at <a href=\"mailto://muzioclavecin@gmail.com\">muzioclavecin@gmail.com</a> I'll try to fix it as soon as possible. Please include the following text:</p>\n      <p>URL: {window.location.href}, Error: {error.toString()} – {JSON.stringify(errorInfo)}</p>\n    </div>\n  }>{children}</ErrorBoundary>\n}\n\nexport {SetError};","import React, {useEffect, useState} from \"react\";\nimport './App.css';\nimport {SetCard, Sheet} from \"./SetCard\";\nimport {cleanHistory, collections} from \"./problems\";\nimport {SetError} from \"./error\";\nimport {random} from \"./utils\";\n\nconst BASE_PATH = \"/problems\";\n\nfunction Choice({name, onClick}) {\n  return (\n    <button className=\"Choice\" onClick={onClick}>\n      <span>{name}</span>\n      <svg width=\"24px\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n      </svg>\n    </button>\n  );\n}\n\nfunction Chooser({newSet}) {\n  return (\n    <div className=\"Chooser\">\n      {Object.entries(collections).map(([name, _topics], index) => (\n        <Choice name={name} key={index} onClick={() => newSet(name)} />\n      ))}\n    </div>\n  );\n}\n\nfunction encodeData(seed, mode) {\n  // Converts to a base-36 string\n  return mode.toString() + seed.toString(36);\n}\nfunction decodeData(str) {\n  return [parseInt(str.slice(1), 36), parseInt(str[0])];\n}\n// URL Format:\n// home: `https://aderhall.github.io/${BASE_PATH}\n// specific questions: `https://aderhall.github.io/${BASE_PATH}#!${name}/${data}`\nfunction getRouteFromUrl() {\n  let path = window.location.href.split(\"#!\").filter(x => x !== \"\");\n  if (path.length === 1) {\n    return [null];\n  }\n  let fragments = path[1].split(\"/\");\n  try {\n    let name = decodeURIComponent(fragments[0]);\n    let [seed, mode] = decodeData(fragments[1]);\n    return [name, seed, mode];\n  } catch {\n    console.error(\"Couldn't resolve url data fragment, redirecting to home.\");\n    navigateToRoute([null]);\n    return [null];\n  }\n}\nfunction navigateToRoute(route) {\n  const [name, seed, mode] = route;\n  if (name !== null) {\n    window.history.pushState(route, \"\", `${BASE_PATH}#!${name}/${encodeData(seed, mode)}`);\n    document.title = `${name}${mode === 0 ? \"\" : ` (${mode === 1 ? \"worksheet\" : \"answers\"})`} | Adrian's endless source of problems`;\n  } else {\n    window.history.pushState(null, \"\", `${BASE_PATH}`);\n    document.title = \"Adrian's endless source of problems\";\n  }\n}\n\nfunction App() {\n  const [route, setRoute] = useState(getRouteFromUrl());\n  useEffect(() => {\n    const handleBack = () => {\n      setRoute(getRouteFromUrl());\n    }\n    window.addEventListener(\"popstate\", handleBack);\n    return () => {\n      window.removeEventListener(\"popstate\", handleBack);\n    }\n  });\n  cleanHistory();\n  const goto = route => {\n    navigateToRoute(route);\n    setRoute(route);\n  }\n  const newSet = name => {\n    let seed = random.newRandomSeed();\n    goto([name, seed, 0]);\n  }\n  \n  const [printMode, setPrintMode] = useState(false);\n  const printPage = () => {\n    setPrintMode(true);\n  }\n  useEffect(() => {\n    if (printMode) {\n      window.print();\n      setPrintMode(false);\n    }\n  }, [printMode]);\n  return (\n    <div className={\"App\" + (printMode ? \" print\" : \"\")}>\n      <header className=\"App__header no-print\">\n        <h1>Adrian's endless source of problems</h1>\n      </header>\n      <main>\n        {route[0] === null ? \n          <Chooser newSet={newSet} /> : \n          <>\n            <nav className=\"no-print\">\n              <button className=\"link-button\" onClick={() => window.history.back()}>\n                <svg width=\"15px\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path fillRule=\"evenodd\" d=\"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z\" clipRule=\"evenodd\" />\n                </svg>\n                Back\n              </button>\n              <button className=\"link-button\" onClick={() => goto([null])}>\n                <svg width=\"15px\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path d=\"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z\" />\n                </svg>\n                Home\n              </button>\n            </nav>\n            <SetError>\n              {route[2] === 0 ? \n                <SetCard route={route} newSet={newSet} goto={goto} /> :\n                <Sheet route={route} printPage={printPage} />\n              }\n            </SetError>\n          </>\n        }\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n\n\n/* TODO:\n  * √ Generate problems in app, not setcard\n  * √ Menu option to reload each problem\n  * √ Client-side routing\n  * √ Menu options to generate question and answer sheets\n  * √ Deploy to gh-pages\n  * √ Seeded PRNG with seed in url fragment\n  * X PDF download\n  * √ Katex\n  * √ Remove coefficient of 1 in formatTerm\n  * √ Reload button easier to access\n  * √ Error boundaries\n  * Lazy loading problems\n  * Some way to limit problems that have already come up?\n  * SVG Diagrams\n  * Help page documentation\n*/","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import React, {useRef, useLayoutEffect} from \"react\";\nimport katex from \"katex\";\nrequire(\"katex/dist/contrib/mhchem.js\");\n\nfunction Katex({children, display}) {\n  if (display === undefined) {\n    display = false;\n  }\n  if (Array.isArray(children)) {\n    children = children.join(\"\");\n  }\n  if (typeof(children) !== \"string\") {\n    children = children.toString();\n  }\n  const spanRef = useRef();\n  useLayoutEffect(() => {\n    if (spanRef !== null) {\n      katex.render(children, spanRef.current, {displayMode: display, fleqn: true});\n    }\n  }, [spanRef, children, display])\n  return <span ref={spanRef}/>\n}\nfunction K({m}) {\n  return <Katex>{m}</Katex>;\n}\nfunction FracN({n, d}) {\n  [n, d] = algebra.simplifyFraction(n, d);\n  if (d === 1) {\n    return <K m={n} />;\n  } else {\n    return <Katex>\\frac{`{${n}}{${d}}`}</Katex>\n  }\n}\nfunction pu(m) {\n  return `\\\\pu{${m}}`;\n}\nfunction Pu({m}) {\n  return <K m={pu(m)}/>;\n}\n\nlet misc = {\n  range(min, max) {\n    return Array(max - min).fill().map((_item, idx) => idx + min);\n  }\n}\nlet random = {\n  names: {\n    male: [\"Bill\", \"Bob\", \"Jebediah\", \"Mohamed\", \"Karim\", \"Habib\", \"Santiago\", \"Gabriel\", \"Jayden\", \"Liam\", \"Noah\", \"James\", \"Ali\", \"Omar\", \"Yusif\", \"Wei\", \"Jie\", \"Hao\", \"Arjun\", \"Reyansh\", \"Ayaan\", \"Ori\", \"Ahmad\", \"Haruki\", \"Riku\", \"Lucas\", \"Nathan\", \"Stefan\", \"Leonardo\", \"Francesco\", \"Alessandro\", \"Leo\", \"Jack\", \"Sergei\", \"Taika\"],\n    female: [\"Valentina\", \"Roxanne\", \"Lola\", \"Fatima\", \"Mariam\", \"Rowan\", \"Mariana\", \"Lucia\", \"Camila\", \"Olivia\", \"Charlotte\", \"Emma\", \"Leyla\", \"Zeynab\", \"Salma\", \"Jing\", \"Ying\", \"Yan\", \"Aadya\", \"Diya\", \"Saanvi\", \"Sarah\", \"Jana\", \"Honoka\", \"Akari\", \"Anna\", \"Sophia\", \"Yasmine\", \"Ginevra\", \"Beatrice\", \"Aurora\", \"Stella\", \"Lucy\", \"Anastasia\", \"Mia\"]\n  },\n  nouns: [\"shoe\", \"car\", \"carpet\", \"rocket\", \"microscope\", \"tambourine\", \"guitar\", \"envelope\", \"jetpack\", \"parachute\", \"donut\", \"vegetable\"],\n  currencies: [\"$\", \"€\", \"￡\"],\n  variables: [\"a\", \"b\", \"c\", \"d\", \"m\", \"n\", \"p\", \"q\", \"r\", \"t\", \"w\", \"x\", \"y\", \"z\"],\n  newRandomSeed() {\n    // Random Uint32\n    return (Math.random() * (-1>>>0))>>>0;\n  },\n  initialize(seed) {\n    // Initialize the first 96 bits of the seed\n    // First 11 digits of PI, E, and PHI\n    let a = 31415926535;\n    let b = 71828182845\n    let c = 16180339887;\n    if (seed === undefined) {\n      seed = this.newRandomSeed();\n    }\n    // sfc32 (short fast counter) PRNG algorithm\n    // Produces uniformly-distributed floats between 0 and 1, with 32 bits of precision\n    this.random = function() {\n      a >>>= 0; b >>>= 0; c >>>= 0; seed >>>= 0; \n      let t = (a + b) | 0;\n      a = b ^ (b >>> 9);\n      b = c + (c << 3) | 0;\n      c = ((c << 21) | (c >>> 11));\n      seed = seed + 1 | 0;\n      t = t + seed | 0;\n      c = c + t | 0;\n      // Divide by max Uint32 to get a float between 0 and 1\n      return (t >>> 0) / 4294967296;\n    }\n    // Since the first 96 bits of the seed were fixed initially, run the generator a few times to mix everything up\n    for (let i = 0; i < 15; i++) this.random();\n  },\n  random() {\n    // This function will be reassigned when this.initialize() is called\n    throw new Error(\"PRNG has not been initialized.\");\n  },\n  int(min, max) {\n    return Math.floor((1 + max - min) * this.random()) + min;\n  },\n  nonZeroInt(min, max) {\n    if (min > 0 || max < 0) {\n      return this.int(min, max);\n    }\n    let result = this.int(min, max - 1);\n    if (result >= 0) {\n      return result + 1;\n    }\n    return result;\n  },\n  uniqueInts(min, max, count, nonZero) {\n    if (count > max - min) {\n      if ((count > 1 + max - min) || (nonZero && max >= 0 && min <= 0)) {\n        throw new Error(\"Range is too small to generate enough ints\");\n      }\n    }\n    let ints = [];\n    let int;\n    for (let i = 0; i < count; i++) {\n      do {\n        int = nonZero ? this.nonZeroInt(min, max) : this.int(min, max);\n      } while (ints.indexOf(int) !== -1);\n      ints.push(int);\n    }\n    return ints;\n  },\n  bool() {\n    return this.random() >= 0.5;\n  },\n  sign() {\n    return this.bool() ? 1 : -1;\n  },\n  float(min, max, places) {\n    let result = this.random() * (max - min) + min;\n    if (places === undefined) {\n      return result;\n    }\n    return fmt.round(result, places);\n  },\n  choice(arr) {\n    return arr[Math.floor(arr.length * this.random())];\n  },\n  uniqueVariables(count) {\n    let indices = this.uniqueInts(0, this.variables.length-1, count, false);\n    return indices.map(index => this.variables[index]);\n  },\n  name() {\n    return this.choice(this.names.male.concat(this.names.female));\n  },\n  nameAndGender() {\n    let allNames = this.names.male.concat(this.names.female);\n    let index = Math.floor(allNames.length * this.random());\n    return [\n      allNames[index],\n      index >= this.names.male.length // true if female, false if male\n    ]\n  },\n  noun() {\n    return this.choice(this.nouns);\n  },\n  currency() {\n    return this.choice(this.currencies);\n  },\n  money(min, max) {\n    return this.float(min, max, 2);\n  }\n}\nlet fmt = {\n  indArticle(word) {\n    if (word[0] in [\"a\", \"e\", \"i\", \"o\", \"u\"]) {\n      return \"an\";\n    } else {\n      return \"a\";\n    }\n  },\n  round(number, places) {\n    return Math.round(number * Math.pow(10, places)) / Math.pow(10, places);\n  },\n  toNPlaces(number, places) {\n    let s = this.round(number, places).toString();\n    if (places > 0) {\n      let pointIndex = s.indexOf(\".\")\n      if (pointIndex === -1) {\n        s += \".\";\n        pointIndex = s.length - 1;\n      }\n      let remainingZeros = places - (s.length - 1 - pointIndex)\n      for (let i = 0; i < remainingZeros; i++) {\n        s += \"0\";\n      }\n    }\n    return s;\n  }\n}\nlet algebra = {\n  primes: (() => {\n    let sqrtmax = 10;\n    let index = 0;\n    let primes = misc.range(2, sqrtmax**2);\n    for (let i = 2; i < sqrtmax; i++) {\n      primes = primes.filter(num => num === i || num % i !== 0);\n    }\n    let expand = () => {\n      sqrtmax++;\n      let newPrimes = misc.range((sqrtmax-1)**2+1, sqrtmax**2);\n      for (let i = 2; i < sqrtmax; i++) {\n        newPrimes = newPrimes.filter(num => num % i !== 0);\n      }\n      primes.push(...newPrimes);\n    }\n    return {\n      reset() {\n        index = 0;\n      },\n      next() {\n        let current = this.get(index);\n        index++;\n        return current;\n      },\n      get(idx) {\n        let value = primes[idx];\n        while (value === undefined) {\n          expand();\n          value = primes[idx];\n        }\n        return value;\n      },\n      indexOf(num) {\n        while (true) {\n          if (num > primes[primes.length - 1]) {\n            expand();\n          } else {\n            return primes.indexOf(num);\n          }\n        }\n      },\n      isPrime(num) {\n        return this.indexOf(num) !== -1;\n      },\n      factors(num) {\n        let factors = []\n        if (num < 2) {\n          return factors;\n        }\n        let idx = 0;\n        while (!this.isPrime(num)) {\n          let current = this.get(idx)\n          while (num % current === 0 && num !== current) {\n            num /= current;\n            factors.push(current);\n          }\n          idx++;\n        }\n        factors.push(num);\n        return factors;\n      }\n    }\n  })(),\n  gcf(a, b) {\n    let bFactors = this.primes.factors(b);\n    return this.primes.factors(a).filter(factor => {\n      let bIdx = bFactors.indexOf(factor);\n      if (bIdx === -1) {\n        return false;\n      } else {\n        delete bFactors[bIdx];\n        return true;\n      }\n    }).reduce((acc, val) => acc * val, 1);\n  },\n  simplifyFraction(n, d) {\n    let gcf = this.gcf(n, d);\n    return [n / gcf, d / gcf];\n  },\n  formatTerm(factors) {\n    // [-5, 3, \"x^{11}\", -1, \"y\", -2] -> \"-30x^{11}y\"\n    let coefficient = 1;\n    let acc = \"\";\n    for (let factor of factors) {\n      if (typeof(factor) === \"number\") {\n        coefficient *= factor;\n      } else {\n        acc += factor;\n      }\n    }\n    if (acc) {\n      if (coefficient === 1) {\n        coefficient = \"\";\n      } else if (coefficient === -1) {\n        coefficient = \"-\";\n      }\n    }\n    return coefficient + acc;\n  },\n  formatExpression(...terms) {\n    return terms.map(term => {\n      if (Array.isArray(term)) {\n        return this.formatTerm(term);\n      } else if (typeof(term) === \"number\") {\n        return term.toString();\n      }\n      return term;\n    }).reduce((acc, term, index) => acc + (term[0] === \"-\" || index === 0 ? \"\" : \"+\") + term, \"\");\n  },\n  formatEquation(lhs, rhs) {\n    return this.formatExpression(...lhs) + \"=\" + this.formatExpression(...rhs);\n  }\n}\n\nexport {random, fmt, Katex, K, FracN, Pu, pu, misc, algebra};"],"sourceRoot":""}