{"version":3,"sources":["utils.js","problems.js","OutsideClickDetector.js","SetCard.js","App.js","reportWebVitals.js","index.js"],"names":["Katex","children","display","undefined","Array","isArray","join","toString","spanRef","useRef","useEffect","katex","render","current","displayMode","fleqn","ref","K","m","FracN","n","d","algebra","simplifyFraction","misc","min","max","fill","map","_item","idx","random","names","male","female","nouns","currencies","newRandomSeed","Math","initialize","seed","a","b","c","this","t","i","Error","int","floor","nonZeroInt","result","bool","sign","float","places","fmt","round","choice","arr","length","name","concat","nameAndGender","allNames","index","noun","currency","money","indArticle","word","number","pow","toNPlaces","s","pointIndex","indexOf","remainingZeros","primes","sqrtmax","filter","num","expand","newPrimes","push","reset","next","get","value","isPrime","factors","gcf","bFactors","factor","bIdx","reduce","acc","val","formatTerm","coefficient","formatExpression","terms","term","problems","generate","q","format","question","answer","explanation","turnover","documented","calculator","rhs","variant","multiplier","collections","problemHistory","tryAddToHistory","id","qAsString","JSON","stringify","date","entry","today","dateToString","Date","trimHistory","sum","oldest","dateString","stringToDate","shift","getMonth","getDate","getFullYear","string","ys","parseInt","slice","ms","ds","newProblem","data","count","console","warn","newProblemData","OutsideClickDetector","props","selfRef","onClickOutside","active","filteredProps","handler","event","contains","target","document","addEventListener","removeEventListener","defaultProps","className","DotsMenu","useState","open","setOpen","onClick","aria-label","width","xmlns","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","items","item","SetItem","problem","answerVisible","setAnswerVisible","expVisible","setExpVisible","getProblems","route","problemList","restoreHistory","tmp","honeypotHistory","SetCard","newSet","goto","Sheet","printPage","mode","BASE_PATH","Choice","Chooser","Object","entries","getRouteFromUrl","path","window","location","href","split","x","str","fragments","decodeURIComponent","error","navigateToRoute","history","pushState","encodeData","title","App","setRoute","handleBack","now","cleanHistory","printMode","setPrintMode","print","back","fillRule","clipRule","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.e5c11cd0.chunk.js","sourcesContent":["import React, {useRef, useEffect} from \"react\";\nimport katex from \"katex\";\n\nfunction Katex({children, display}) {\n  if (display === undefined) {\n    display = false;\n  }\n  if (Array.isArray(children)) {\n    children = children.join(\"\");\n  }\n  if (typeof(children) !== \"string\") {\n    children = children.toString();\n  }\n  const spanRef = useRef();\n  useEffect(() => {\n    if (spanRef !== null) {\n      katex.render(children, spanRef.current, {displayMode: display, fleqn: true});\n    }\n  }, [spanRef, children, display])\n  return <span ref={spanRef}/>\n}\nfunction K({m}) {\n  return <Katex>{m}</Katex>;\n}\nfunction FracN({n, d}) {\n  [n, d] = algebra.simplifyFraction(n, d);\n  if (d === 1) {\n    return <K m={n} />;\n  } else {\n    return <Katex>\\frac{`{${n}}{${d}}`}</Katex>\n  }\n}\n\nlet misc = {\n  range(min, max) {\n    return Array(max - min).fill().map((_item, idx) => idx + min);\n  }\n}\nlet random = {\n  names: {\n    male: [\"Bill\", \"Bob\", \"Jebediah\", \"Mohamed\", \"Karim\", \"Habib\", \"Santiago\", \"Gabriel\", \"Jayden\", \"Liam\", \"Noah\", \"James\", \"Ali\", \"Omar\", \"Yusif\", \"Wei\", \"Jie\", \"Hao\", \"Arjun\", \"Reyansh\", \"Ayaan\", \"Ori\", \"Ahmad\", \"Haruki\", \"Riku\", \"Lucas\", \"Nathan\", \"Stefan\", \"Leonardo\", \"Francesco\", \"Alessandro\", \"Leo\", \"Jack\", \"Sergei\", \"Taika\"],\n    female: [\"Valentina\", \"Roxanne\", \"Lola\", \"Fatima\", \"Mariam\", \"Rowan\", \"Mariana\", \"Lucia\", \"Camila\", \"Olivia\", \"Charlotte\", \"Emma\", \"Leyla\", \"Zeynab\", \"Salma\", \"Jing\", \"Ying\", \"Yan\", \"Aadya\", \"Diya\", \"Saanvi\", \"Sarah\", \"Jana\", \"Honoka\", \"Akari\", \"Anna\", \"Sophia\", \"Yasmine\", \"Ginevra\", \"Beatrice\", \"Aurora\", \"Stella\", \"Lucy\", \"Anastasia\", \"Mia\"]\n  },\n  nouns: [\"shoe\", \"car\", \"carpet\", \"rocket\", \"microscope\", \"tambourine\", \"guitar\", \"envelope\", \"jetpack\", \"parachute\", \"donut\", \"vegetable\"],\n  currencies: [\"$\", \"€\", \"￡\"],\n  newRandomSeed() {\n    // Random Uint32\n    return (Math.random() * (-1>>>0))>>>0;\n  },\n  initialize(seed) {\n    // Initialize the first 96 bits of the seed\n    // First 11 digits of PI, E, and PHI\n    let a = 31415926535;\n    let b = 71828182845\n    let c = 16180339887;\n    if (seed === undefined) {\n      seed = this.newRandomSeed();\n    }\n    // sfc32 (short fast counter) PRNG algorithm\n    // Produces uniformly-distributed floats between 0 and 1, with 32 bits of precision\n    this.random = function() {\n      a >>>= 0; b >>>= 0; c >>>= 0; seed >>>= 0; \n      let t = (a + b) | 0;\n      a = b ^ (b >>> 9);\n      b = c + (c << 3) | 0;\n      c = ((c << 21) | (c >>> 11));\n      seed = seed + 1 | 0;\n      t = t + seed | 0;\n      c = c + t | 0;\n      // Divide by max Uint32 to get a float between 0 and 1\n      return (t >>> 0) / 4294967296;\n    }\n    // Since the first 96 bits of the seed were fixed initially, run the generator a few times to mix everything up\n    for (let i = 0; i < 15; i++) this.random();\n  },\n  random() {\n    // This function will be reassigned when this.initialize() is called\n    throw new Error(\"PRNG has not been initialized.\");\n  },\n  int(min, max) {\n    return Math.floor((1 + max - min) * this.random()) + min;\n  },\n  nonZeroInt(min, max) {\n    if (min > 0 || max < 0) {\n      return this.int(min, max);\n    }\n    let result = this.int(min, max - 1);\n    if (result >= 0) {\n      return result + 1;\n    }\n    return result;\n  },\n  bool() {\n    return this.random() >= 0.5;\n  },\n  sign() {\n    return this.bool() ? 1 : -1;\n  },\n  float(min, max, places) {\n    let result = this.random() * (max - min) + min;\n    if (places === undefined) {\n      return result;\n    }\n    return fmt.round(result, places);\n  },\n  choice(arr) {\n    return arr[Math.floor(arr.length * this.random())];\n  },\n  name() {\n    return this.choice(this.names.male.concat(this.names.female));\n  },\n  nameAndGender() {\n    let allNames = this.names.male.concat(this.names.female);\n    let index = Math.floor(allNames.length * this.random());\n    return [\n      allNames[index],\n      index >= this.names.male.length // true if female, false if male\n    ]\n  },\n  noun() {\n    return this.choice(this.nouns);\n  },\n  currency() {\n    return this.choice(this.currencies);\n  },\n  money(min, max) {\n    return this.float(min, max, 2);\n  }\n}\nlet fmt = {\n  indArticle(word) {\n    if (word[0] in [\"a\", \"e\", \"i\", \"o\", \"u\"]) {\n      return \"an\";\n    } else {\n      return \"a\";\n    }\n  },\n  round(number, places) {\n    return Math.round(number * Math.pow(10, places)) / Math.pow(10, places);\n  },\n  toNPlaces(number, places) {\n    let s = this.round(number, places).toString();\n    if (places > 0) {\n      let pointIndex = s.indexOf(\".\")\n      if (pointIndex === -1) {\n        s += \".\";\n        pointIndex = s.length - 1;\n      }\n      let remainingZeros = places - (s.length - 1 - pointIndex)\n      for (let i = 0; i < remainingZeros; i++) {\n        s += \"0\";\n      }\n    }\n    return s;\n  }\n}\nlet algebra = {\n  primes: (() => {\n    let sqrtmax = 10;\n    let index = 0;\n    let primes = misc.range(2, sqrtmax**2);\n    for (let i = 2; i < sqrtmax; i++) {\n      primes = primes.filter(num => num === i || num % i !== 0);\n    }\n    let expand = () => {\n      sqrtmax++;\n      let newPrimes = misc.range((sqrtmax-1)**2+1, sqrtmax**2);\n      for (let i = 2; i < sqrtmax; i++) {\n        newPrimes = newPrimes.filter(num => num % i !== 0);\n      }\n      primes.push(...newPrimes);\n    }\n    return {\n      reset() {\n        index = 0;\n      },\n      next() {\n        let current = this.get(index);\n        index++;\n        return current;\n      },\n      get(idx) {\n        let value = primes[idx];\n        while (value === undefined) {\n          expand();\n          value = primes[idx];\n        }\n        return value;\n      },\n      indexOf(num) {\n        while (true) {\n          if (num > primes[primes.length - 1]) {\n            expand();\n          } else {\n            return primes.indexOf(num);\n          }\n        }\n      },\n      isPrime(num) {\n        return this.indexOf(num) !== -1;\n      },\n      factors(num) {\n        let factors = []\n        if (num < 2) {\n          return factors;\n        }\n        let idx = 0;\n        while (!this.isPrime(num)) {\n          let current = this.get(idx)\n          while (num % current === 0 && num !== current) {\n            num /= current;\n            factors.push(current);\n          }\n          idx++;\n        }\n        factors.push(num);\n        return factors;\n      }\n    }\n  })(),\n  gcf(a, b) {\n    let bFactors = this.primes.factors(b);\n    return this.primes.factors(a).filter(factor => {\n      let bIdx = bFactors.indexOf(factor);\n      if (bIdx === -1) {\n        return false;\n      } else {\n        delete bFactors[bIdx];\n        return true;\n      }\n    }).reduce((acc, val) => acc * val, 1);\n  },\n  simplifyFraction(n, d) {\n    let gcf = this.gcf(n, d);\n    return [n / gcf, d / gcf];\n  },\n  formatTerm(factors) {\n    // [-5, 3, \"x^{11}\", -1, \"y\", -2] -> \"-30x^{11}y\"\n    let coefficient = 1;\n    let acc = \"\";\n    for (let factor of factors) {\n      if (typeof(factor) === \"number\") {\n        coefficient *= factor;\n      } else {\n        acc += factor;\n      }\n    }\n    return coefficient + acc;\n  },\n  formatExpression(...terms) {\n    return terms.map(term => {\n      if (Array.isArray(term)) {\n        return this.formatTerm(term);\n      } else if (typeof(term) === \"number\") {\n        return term.toString();\n      }\n      return term;\n    }).reduce((acc, term, index) => acc + (term[0] === \"-\" || index === 0 ? \"\" : \"+\") + term, \"\");\n  }\n}\n\nexport {random, fmt, Katex, K, FracN, misc, algebra};","import React from \"react\";\nimport {random, fmt, Katex, K, FracN, algebra} from \"./utils\";\n\nlet problems = {\n  \"l1\": {\n    name: \"solving simple linear equations\",\n    generate() {\n      let a = random.nonZeroInt(-10, 10);\n      let b = random.nonZeroInt(-10, 10);\n      return {\n        q: [a, b],\n        a: b - a\n      }\n    },\n    format({q, a}) {\n      return {\n        question: <span>\n          <Katex>{algebra.formatExpression(\"x\", q[0])}={q[1]}</Katex>\n          <br/>\n          Solve for <K m=\"x\"/>\n        </span>,\n        answer: <Katex>x = {a}</Katex>,\n        explanation: <span>\n          To get only <K m=\"x\"/> on the left side, we can subtract <K m={q[0]}/> from both sides.\n          <br/>\n          This gives us <Katex>{q[1]} - {q[0]}</Katex> on the right-hand-side: <K m={a}/>.\n        </span>\n      }\n    },\n    turnover: 200,\n    documented: false,\n    calculator: false\n  },\n  \"l2\": {\n    name: \"solving simple linear equations with multiplication\",\n    generate() {\n      let coefficient = random.sign() * random.int(3, 25);\n      let rhs = random.sign() * random.int(1, 10);\n      return {\n        q: [coefficient, coefficient * rhs],\n        a: rhs\n      }\n    },\n    format({q, a}) {\n      return {\n        question: <span>\n          <Katex>{q[0]}x = {q[1]}</Katex>\n          <br/>\n          Solve for <K m=\"x\"/>\n        </span>,\n        answer: <Katex>x = {a}</Katex>\n      }\n    }\n  },\n  \"e1\": {\n    name: \"calculating exponential growth\",\n    generate() {\n      let variant = random.bool();\n      return {\n        q: [random.int(15, 10000), random.bool(), random.int(1, 10) / 2, random.int(3, 20)],\n        name: random.name(),\n        noun: variant ? random.noun() : 0,\n        currency: random.currency(),\n        variant: variant\n      }\n    },\n    format({q, name, noun, currency, variant}) {\n      let multiplier = 1 + (q[1] ? 0.01 : -0.01) * q[2];\n      let answer = q[0] * Math.pow(multiplier, q[3]);\n      return {\n        question: <span>\n          {name} {variant ? \"buys\" : \"deposits\"} {currency}<K m={fmt.toNPlaces(q[0], 2)}/> {variant ? \"worth of stock\" : \"\"} in {variant ? `${fmt.indArticle(noun)} ${noun} company` : \"a bank\"}. Every year, their {variant ? \"stock price\" : \"balance\"} {q[1] ? \"increases\" : \"decreases\"} by <K m={q[2]}/>%. After <K m={q[3]}/> years, how much money is {variant ? \"the stock worth\" : \"in their bank account\"}?\n        </span>,\n        answer: <span>{currency}<K m={fmt.toNPlaces(answer, 2)}/></span>,\n        explanation: <span>\n          {name}'s {variant ? \"stock price\" : \"balance\"} {q[1] ? \"increases\" : \"decreases\"} by <K m={q[2]}/>% per year, so each year its value changes by a factor of <K m={multiplier}/>.\n          <br/>\n          Repeatedly multiplying by <K m={multiplier}/>, <K m={q[3]}/> times, is the same as taking <K m={multiplier}/> to the power of <K m={q[3]}/>, which is <K m={fmt.round(Math.pow(multiplier, q[3]), 3)}/>.\n          <br/>\n          Multiplying this by the initial amount gives us <K m={fmt.round(answer, 3)}/>.\n        </span>\n      }\n    },\n    turnover: 1000,\n    documented: false,\n    calculator: true\n  },\n  \"dummy\": {\n    name: \"dummy\",\n    generate() {\n      return {\n        q: 1\n      }\n    },\n    format({q}) {\n      return {\n        question: `${q}`,\n        answer: `${q}`\n      }\n    },\n    turnover: 0,\n    documented: false,\n    calculator: false\n  },\n  \"c1\": {\n    name: \"integration\",\n    generate() {\n      return {\n        q: [random.int(1, 9), random.int(2, 10)]\n      }\n    },\n    format({q}) {\n      const [n, d] = algebra.simplifyFraction(q[0], q[1]+1);\n      return {\n        question: <span>\n          Work out the indefinite integral:\n          <br/>\n          <Katex display={true}>\\int {q[0]}x^{`{${q[1]}}`}dx</Katex>\n        </span>,\n        answer: <span>\n          <FracN n={n} d={d}/><Katex>x^{`{${q[1]+1}}`}</Katex>\n        </span>\n      }\n    },\n    turnover: 30,\n    documented: false,\n    calculator: false\n  }\n};\nlet collections = {\n  \"Algebra\": [\"l1\", \"l2\"],\n  \"Exponents and compound interest\": [\"e1\"],\n  \"Calculus\": [\"c1\"]\n}\n\nlet problemHistory = {};\nfunction honeypotHistory() {\n  let tmp = problemHistory;\n  problemHistory = {};\n  return () => {\n    problemHistory = tmp;\n  }\n}\n// Returns true if successful, false if already in problemHistory\nfunction tryAddToHistory(id, q) {\n  // TODO: This only looks at today's problemHistory, it should look at all problemHistory\n  // If this problem id doesn't exist in problemHistory, create it\n  if (!(id in problemHistory)) {\n    problemHistory[id] = {};\n  }\n  \n  // Check for a matching q object in this id's history\n  let qAsString = JSON.stringify(q);\n  for (let date in problemHistory[id]) {\n    for (let entry of problemHistory[id][date]) {\n      if (JSON.stringify(entry) === qAsString) {\n        // If there's a match, return false without adding the duplicate q\n        return false;\n      }\n    }\n  }\n  \n  // If there's no entry for today, create one\n  let today = dateToString(new Date());\n  if (!(today in problemHistory[id])) {\n    problemHistory[id][today] = [];\n  }\n  // If no duplicates were found, go ahead and add it\n  problemHistory[id][today].push(q);\n  return true;\n}\n// Removes the oldest item from the specified id's history if the turnover has been reached\nfunction trimHistory(id) {\n  let sum = 0;\n  let oldest = new Date();\n  let date;\n  for (let dateString in problemHistory[id]) {\n    date = stringToDate(dateString)\n    if (date < oldest) {\n      oldest = date;\n    }\n    sum += problemHistory[id][dateString].length;\n  }\n  if (sum > problems[id].turnover) {\n    // shift() removes the first entry, which is the oldest since they are added with push()\n    problemHistory[id][dateToString(oldest)].shift();\n  }\n}\n// Removes all entries from problemHistory that are older than 3 weeks\nfunction cleanHistory() {\n  let now = new Date();\n  for (let id in problemHistory) {\n    for (let dateString in problemHistory[id]) {\n      // If entry is more than 3 weeks old, delete it\n      if (now - stringToDate(dateString) > 3 * 7 * 24 * 60 * 60 * 1000) {\n        delete problemHistory[id][dateString]\n      }\n    }\n  }\n}\n\nfunction dateToString(date) {\n  let m = (date.getMonth() + 1 < 10 ? \"0\" : \"\") + (date.getMonth() + 1);\n  let d = (date.getDate() < 10 ? \"0\": \"\") + date.getDate();\n  return `${date.getFullYear()}${m}${d}`;\n}\n\nfunction stringToDate(string) {\n  let ys = parseInt(string.slice(0, 4));\n  let ms = parseInt(string.slice(4, 6)) - 1;\n  let ds = parseInt(string.slice(6, 8));\n  return new Date(ys, ms, ds)\n}\n\n// Returns a new problem object if possible\n// Returns null if unable to create a unique problem not already in problemHistory\nfunction newProblem(id) {\n  let data = newProblemData(id);\n  let result = problems[id].format(data);\n  // If an id property hasn't been defined, make a unique one\n  if (result.id === undefined) {\n    result.id = JSON.stringify(data.q) + id;\n  }\n  return result;\n}\n// Tries to create a unique problem object. If it fails, it will fall back on a recent problem\nfunction newProblemData(id) {\n  let data;\n  // Generate up to 200 problems, before deciding that all possibilities are exhausted and we should just return an old problem\n  for (let count = 0; count < 200; count++) {\n    data = problems[id].generate();\n    if (tryAddToHistory(id, data.q)) {\n      return data;\n    } else {\n      trimHistory(id);\n    }\n  }\n  console.warn(`Unable to create unique problem (id: ${id}, data: ${data})`);\n  return data;\n}\n\nexport {newProblem, newProblemData, problems, cleanHistory, collections, random, honeypotHistory};","import React, { useRef, useEffect } from \"react\";\n\nfunction OutsideClickDetector(props) {\n    // Create a reference to this wrapper element\n    const selfRef = useRef(null);\n    // Destructure the callback from the props object so that we can tell useEffect to update whin it is changed\n    const { onClickOutside, active, ...filteredProps } = props;\n    useEffect(() => {\n        if (active) {\n            const handler = (event) => {\n                // If the ref has been set and the click happens outside of this component\n                if (selfRef.current !== null && !selfRef.current.contains(event.target)) {\n                    // Call the props.onClickOutside callback\n                    onClickOutside();\n                }\n            }\n            document.addEventListener(\"mousedown\", handler);\n            document.addEventListener(\"focusin\", handler); // Focus doesn't bubble, so it must be captured\n            return () => {\n                // Cleanup\n                document.removeEventListener(\"mousedown\", handler);\n                document.removeEventListener(\"focusin\", handler);\n            };\n        }\n    }, [selfRef, onClickOutside, active]); // Update the effect when we are given a new reference or callback\n    \n    return (\n        <div ref={selfRef} {...filteredProps}>\n            {props.children}\n        </div>\n    );\n}\nOutsideClickDetector.defaultProps = {\n    className: \"\",\n    onClickOutside: () => console.warn(\"No onClickOutside passed to OutsideClickDetector\"),\n    active: true\n}\n\nexport default OutsideClickDetector;","import React, {useState} from \"react\";\nimport \"./SetCard.css\";\nimport {collections, newProblem, honeypotHistory, random} from \"./problems\";\nimport OutsideClickDetector from \"./OutsideClickDetector\";\n\nfunction DotsMenu(props) {\n  const [open, setOpen] = useState(false);\n  \n  return <OutsideClickDetector className=\"DotsMenu\" onClickOutside={() => setOpen(false)} active={open}>\n    <button className=\"DotsMenu__button\" onClick={() => setOpen(!open)} aria-label=\"Actions Menu\">\n      <svg width=\"24\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z\" />\n      </svg>\n    </button>\n    <ul className={\"DotsMenu__popup\" + (open ? \" open\" : \"\")}>\n      {props.items.map((item, index) => (\n        <li key={index}><button onClick={() => {item[1](); setOpen(false);}}>{item[0]}</button></li>\n      ))}\n    </ul>\n  </OutsideClickDetector>\n}\n\nfunction SetItem({problem}) {\n  const [answerVisible, setAnswerVisible] = useState(false);\n  const [expVisible, setExpVisible] = useState(false);\n  return (\n    <li>\n      <div className=\"SetItem__question\">{problem.question}</div>\n      <button className=\"link-button\" onClick={() => setAnswerVisible(!answerVisible)}>\n        {answerVisible ? \"Hide answer\" : \"Show answer\"}\n      </button>\n      <div className={\"SetItem__answer-section\" + (answerVisible ? \" open\" : \"\")}>\n        <div className=\"SetItem__answer\">{problem.answer}</div>\n        {problem.explanation && <>\n          <button className=\"link-button\" onClick={() => setExpVisible(!expVisible)}>\n            {expVisible ? \"Hide explanation\" : \"Show explanation\"}\n          </button>\n          <div className={\"SetItem__explanation\" + (expVisible ? \" open\" : \"\")}>\n            {problem.explanation}\n          </div>\n        </>}\n      </div>\n    </li>\n  );\n}\n\nfunction getProblems(route) {\n  const [name, seed] = route;\n  let problemList = [];\n  let restoreHistory = honeypotHistory();\n  random.initialize(seed);\n  for (let i = 0; i < 5; i++) {\n    // Random problem id from the collection topics list\n    let id = collections[name][Math.floor(random.random() * collections[name].length)];\n    problemList.push(newProblem(id));\n  }\n  restoreHistory();\n  return problemList;\n}\n\nfunction SetCard({route, newSet, goto}) {\n  const [name, seed] = route;\n  let problemList = getProblems(route);\n  return (\n    <div className=\"SetCard\">\n      <div className=\"SetCard__header\">\n        <h2>{name}</h2>\n        <DotsMenu items={[\n          [\"Export worksheet\", () => goto([name, seed, 1])],\n          [\"Export answer sheet\", () => goto([name, seed, 2])],\n          [\"Export answers and explanations\", () => goto([name, seed, 3])],\n          [\"Reload all problems\", () => newSet(name)]\n        ]}/>\n      </div>\n      <hr />\n      <ol className=\"SetCard__list\">\n        {problemList.map(problem => {\n          return <SetItem key={problem.id} problem={problem}/>\n        })}\n      </ol>\n    </div>\n  );\n}\n\nfunction Sheet({route, printPage}) {\n  // eslint-disable-next-line no-unused-vars\n  const [name, _seed, mode] = route;\n  let problemList = getProblems(route);\n  return (\n    <div className=\"SetCard\">\n      <div className=\"SetCard__header\">\n        <h2>{name}</h2>\n        <button className=\"link-button no-print\" onClick={() => printPage()}>Print</button>\n      </div>\n      <hr />\n      <ol className=\"SetCard__list\">\n        {problemList.map(problem => {\n          let data;\n          switch (mode) {\n            case 1:\n              data = problem.question;\n              break;\n            case 2:\n              data = problem.answer;\n              break;\n            case 3:\n              if (problem.explanation) {\n                data = <>\n                  {problem.answer}\n                  <br/>\n                  {problem.explanation}\n                </>\n              } else {\n                data = problem.answer;\n              }\n              break;\n            default:\n              throw new Error(`Unrecognized mode: ${mode}`);\n          }\n          return <li key={problem.id}>\n            <div>{data}</div>\n          </li>\n        })}\n      </ol>\n    </div>\n  );\n}\n\nexport {SetCard, Sheet};","import React, {useEffect, useState} from \"react\";\nimport './App.css';\nimport {SetCard, Sheet} from \"./SetCard\";\nimport {cleanHistory, collections, random} from \"./problems\";\n\nconst BASE_PATH = \"/problems\";\n\nfunction Choice({name, onClick}) {\n  return (\n    <button className=\"Choice\" onClick={onClick}>\n      <span>{name}</span>\n      <svg width=\"24px\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n      </svg>\n    </button>\n  );\n}\n\nfunction Chooser({newSet}) {\n  return (\n    <div className=\"Chooser\">\n      {Object.entries(collections).map(([name, _topics], index) => (\n        <Choice name={name} key={index} onClick={() => newSet(name)} />\n      ))}\n    </div>\n  );\n}\n\nfunction encodeData(seed, mode) {\n  // Converts to a base-36 string\n  return mode.toString() + seed.toString(36);\n}\nfunction decodeData(str) {\n  return [parseInt(str.slice(1), 36), parseInt(str[0])];\n}\n// URL Format:\n// home: `https://aderhall.github.io/${BASE_PATH}\n// specific questions: `https://aderhall.github.io/${BASE_PATH}#!${name}/${data}`\nfunction getRouteFromUrl() {\n  let path = window.location.href.split(\"#!\").filter(x => x !== \"\");\n  if (path.length === 1) {\n    return [null];\n  }\n  let fragments = path[1].split(\"/\");\n  try {\n    let name = decodeURIComponent(fragments[0]);\n    let [seed, mode] = decodeData(fragments[1]);\n    return [name, seed, mode];\n  } catch {\n    console.error(\"Couldn't resolve url data fragment, redirecting to home.\");\n    navigateToRoute([null]);\n    return [null];\n  }\n}\nfunction navigateToRoute(route) {\n  const [name, seed, mode] = route;\n  if (name !== null) {\n    window.history.pushState(route, \"\", `${BASE_PATH}#!${name}/${encodeData(seed, mode)}`);\n    document.title = `${name}${mode === 0 ? \"\" : ` (${mode === 1 ? \"worksheet\" : \"answers\"})`} | Adrian's endless source of problems`;\n  } else {\n    window.history.pushState(null, \"\", `${BASE_PATH}`);\n    document.title = \"Adrian's endless source of problems\";\n  }\n}\n\nfunction App() {\n  const [route, setRoute] = useState(getRouteFromUrl());\n  useEffect(() => {\n    const handleBack = () => {\n      setRoute(getRouteFromUrl());\n    }\n    window.addEventListener(\"popstate\", handleBack);\n    return () => {\n      window.removeEventListener(\"popstate\", handleBack);\n    }\n  });\n  cleanHistory();\n  const goto = route => {\n    navigateToRoute(route);\n    setRoute(route);\n  }\n  const newSet = name => {\n    let seed = random.newRandomSeed();\n    goto([name, seed, 0]);\n  }\n  \n  const [printMode, setPrintMode] = useState(false);\n  const printPage = () => {\n    setPrintMode(true);\n  }\n  useEffect(() => {\n    if (printMode) {\n      window.print();\n      setPrintMode(false);\n    }\n  }, [printMode]);\n  return (\n    <div className={\"App\" + (printMode ? \" print\" : \"\")}>\n      <header className=\"App__header no-print\">\n        <h1>Adrian's endless source of problems</h1>\n      </header>\n      <main>\n        {route[0] === null ? \n          <Chooser newSet={newSet} /> : \n          <>\n            <nav className=\"no-print\">\n              <button className=\"link-button\" onClick={() => window.history.back()}>\n                <svg width=\"15px\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path fillRule=\"evenodd\" d=\"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z\" clipRule=\"evenodd\" />\n                </svg>\n                Back\n              </button>\n              <button className=\"link-button\" onClick={() => goto([null])}>\n                <svg width=\"15px\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path d=\"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z\" />\n                </svg>\n                Home\n              </button>\n            </nav>\n            {route[2] === 0 ? \n              <SetCard route={route} newSet={newSet} goto={goto} /> :\n              <Sheet route={route} printPage={printPage} />\n            }\n          </>\n        }\n      </main>\n    </div>\n  );\n}\n\nexport default App;\n\n\n/* TODO:\n  * √ Generate problems in app, not setcard\n  * √ Menu option to reload each problem\n  * √ Client-side routing\n  * √ Menu options to generate question and answer sheets\n  * √ Deploy to gh-pages\n  * √ Seeded PRNG with seed in url fragment\n  * X PDF download\n  * √ Katex\n  * SVG Diagrams\n  * Help page documentation\n*/","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}